<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="Pdf.Views.PdfViewer"
             xmlns:navigationdrawer="clr-namespace:Syncfusion.SfNavigationDrawer.XForms;assembly=Syncfusion.SfNavigationDrawer.XForms"
             xmlns:syncfusion="clr-namespace:Syncfusion.SfPdfViewer.XForms;assembly=Syncfusion.SfPdfViewer.XForms"
             xmlns:controls="clr-namespace:Pdf.controls"
             xmlns:controls1="clr-namespace:Xamarin.Forms.PancakeView;assembly=Xamarin.Forms.PancakeView" NavigationPage.HasNavigationBar="False" x:Name="pdfViewer">

    <navigationdrawer:SfNavigationDrawer x:Name="navigationDrawer" Position="Bottom" DrawerHeight="300" Transition="Push" Duration="280">
        <navigationdrawer:SfNavigationDrawer.ContentView>
            <StackLayout Spacing="1" x:Name="mainStackLayout">
                <controls1:PancakeView BackgroundColor="#fafafa" HorizontalOptions="FillAndExpand" HasShadow="true" x:Name="topToolbar">
                    <AbsoluteLayout x:Name="topAbsoluteLayout" BackgroundColor="#f5f5f5" HeightRequest="50" VerticalOptions="Start" HorizontalOptions="FillAndExpand">
                        <StackLayout Orientation="Horizontal" HorizontalOptions="FillAndExpand" AbsoluteLayout.LayoutBounds="0, 0.5, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional">
                            <Entry Keyboard="Numeric" FontSize="18" x:Name="pageNumberEntry"  VerticalOptions="Center" Text="{Binding PageNumber, Source={x:Reference Name=pdfViewerControl}}" MaxLength="20"/>
                            <Label Text="/" FontSize="18" x:Name="slashLabel"  VerticalTextAlignment="Center" HorizontalTextAlignment="Center" VerticalOptions="Center" WidthRequest="20"/>
                            <Label x:Name="pageCountLabel" FontSize="18" VerticalTextAlignment="Center" HorizontalTextAlignment="Center"  VerticalOptions="Center" Text="{Binding PageCount, Source={x:Reference Name=pdfViewerControl}}" WidthRequest="20"/>
                        </StackLayout>
                        <controls:IconView x:Name="ValidInkButton" Source="tick.png" BackgroundColor="Transparent" HeightRequest="33" WidthRequest="33" Foreground="White" AbsoluteLayout.LayoutBounds="0.95, 0.5, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional"/>
                        <controls:IconView x:Name="RedoButton" Source="arrow.png" BackgroundColor="Transparent" HeightRequest="33" WidthRequest="33"  Foreground="White" AbsoluteLayout.LayoutBounds="0.82, 0.5, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional"/>
                        <controls:IconView x:Name="UndoButton" Source="next.png" BackgroundColor="Transparent" HeightRequest="33" WidthRequest="33"  Foreground="White" AbsoluteLayout.LayoutBounds="0.72, 0.5, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional"/>
                    </AbsoluteLayout>
                </controls1:PancakeView>
                <StackLayout VerticalOptions="CenterAndExpand">
                    <syncfusion:SfPdfViewer x:Name="pdfViewerControl" InputFileStream="{Binding PdfDocumentStream}"/>
                </StackLayout>
                <controls1:PancakeView BackgroundColor="Transparent" HorizontalOptions="FillAndExpand" HasShadow="true" x:Name="bottomToolbar">
                        <AbsoluteLayout x:Name="bottomAbsoluteLayout" VerticalOptions="End" BackgroundColor="#f5f5f5" HeightRequest="47" HorizontalOptions="FillAndExpand">
                            <controls:IconView x:Name="ToolsButton" Source="sketchbook.png" BackgroundColor="Transparent" HeightRequest="43" Foreground="#4e4e4e" AbsoluteLayout.LayoutBounds="1, 0.5, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional"/>
                            <!--<ImageButton Source="sketchbook.png" HorizontalOptions="EndAndExpand" VerticalOptions="Center" Clicked="ShowToolsMenu" Aspect="AspectFit" BackgroundColor="Transparent" Margin="0,0,12,0" HeightRequest="43"/>-->
                        </AbsoluteLayout>
                </controls1:PancakeView>
            </StackLayout>
        </navigationdrawer:SfNavigationDrawer.ContentView>
    </navigationdrawer:SfNavigationDrawer>
</ContentPage>